# Parameter: Homepage to Product Conversion
# Created: 2025-11-05
# Schema: parameter-schema.yaml v1.1.0
# Type: Probability

id: homepage-to-product
name: Homepage to Product Conversion Rate
type: probability

# Query expression (DSL for data retrieval)
# Auto-generated by MSMDC from graph structure
query: "from(homepage).to(product-page)"
query_overridden: false  # If true, query won't be auto-updated when graph changes

# Historical values (timestamped observations)
values:
  - mean: 0.42
    stdev: 0.03
    n: 5000
    k: 2100
    distribution: beta
    window_from: "2025-01-01T00:00:00Z"
    window_to: "2025-01-31T23:59:59Z"
    data_source:
      type: amplitude
      retrieved_at: "2025-02-01T09:00:00Z"
    
  - mean: 0.45
    stdev: 0.025
    n: 6000
    k: 2700
    distribution: beta
    window_from: "2025-02-01T00:00:00Z"
    window_to: "2025-02-28T23:59:59Z"
    data_source:
      type: amplitude
      retrieved_at: "2025-03-01T09:00:00Z"

# Data source configuration
source:
  type: amplitude
  notes: Funnel analysis from homepage to product page view

# Connection settings for automated retrieval
# Simplified: source_type + JSON blob (secrets in credentials.yaml)
connection:
  source_type: amplitude
  connection_settings: |
    {
      "event_from": "page_viewed",
      "event_to": "page_viewed", 
      "from_filters": {"page_url": {"contains": "/home"}},
      "to_filters": {"page_url": {"contains": "/product"}},
      "credential_ref": "amplitude-prod"
    }

# Metadata
metadata:
  description: Probability that a user who lands on homepage views a product page
  description_overridden: false
  tags: ["conversion", "homepage", "product"]
  created_at: "2025-01-15T10:00:00Z"
  updated_at: "2025-03-01T09:00:00Z"
  author: "data-team"
  version: "1.1.0"
  status: active


# Case: Checkout Redesign Test
# Created: 2025-11-05
# Schema: case-parameter-schema.yaml v1.1.0

parameter_id: case-checkout-redesign
parameter_type: case
name: Checkout Redesign A/B Test
description: Testing new single-page checkout vs. multi-step checkout
description_overridden: false

case:
  id: checkout-redesign
  status: active
  
  # Connection settings for automated retrieval from Statsig
  # Simplified: source_type + JSON blob (secrets in credentials.yaml)
  connection:
    source_type: statsig
    connection_settings: |
      {
        "experiment_id": "checkout_redesign_2025",
        "project_id": "prod",
        "allocation_method": "stable",
        "credential_ref": "statsig-prod"
      }
  
  # Current variant definitions
  variants:
    - name: control
      weight: 0.3
      weight_overridden: false  # If true, won't auto-update from Statsig
      description: Original multi-step checkout process
      statsig_variant_id: "control"
      
    - name: single-page
      weight: 0.7
      weight_overridden: false
      description: New simplified single-page checkout
      statsig_variant_id: "single_page_v1"

  # Historical variant weights (timestamped schedules)
  schedules:
    - variants:
        control: 0.5
        single-page: 0.5
      window_from: "2025-01-15T00:00:00Z"
      window_to: "2025-02-15T23:59:59Z"
      retrieved_at: "2025-01-16T09:00:00Z"
      source: statsig
      note: "Initial 50/50 split for testing"
      
    - variants:
        control: 0.3
        single-page: 0.7
      window_from: "2025-02-16T00:00:00Z"
      window_to: null
      retrieved_at: "2025-02-16T09:00:00Z"
      source: statsig
      note: "Single-page showing better conversion, increasing allocation"

# Additional metadata
metadata:
  tags: ["checkout", "conversion", "experiment"]
  created_at: "2025-01-15T10:00:00Z"
  updated_at: "2025-02-16T09:00:00Z"
  author: "product-team"
  version: "1.1.0"
  status: active

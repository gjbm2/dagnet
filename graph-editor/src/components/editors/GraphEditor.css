/* Graph Editor Styles */

/* Hide canvas tab bar - target it by the canvas tab inside it */
.dock-bar:has([data-node-key="canvas-tab"]) {
  display: none !important;
  height: 0 !important;
  max-height: 0 !important;
  visibility: hidden !important;
  position: absolute !important;
  left: -9999px !important;
  overflow: hidden !important;
  opacity: 0 !important;
}

/* Hide any tab bar that has no actual tabs */
.dock-bar:not(:has(.dock-tab)) {
  display: none !important;
  height: 0 !important;
  max-height: 0 !important;
  visibility: hidden !important;
  position: absolute !important;
  left: -9999px !important;
  overflow: hidden !important;
  opacity: 0 !important;
}

/* Fallback if :has() not supported - hide parent of canvas tab */
[data-node-key="canvas-tab"] {
  display: none !important;
}

.dock-tab[data-node-key="canvas-tab"] {
  display: none !important;
}

/* Hide the bar containing the canvas tab */
.dock-panel[data-panel-id="graph-canvas-panel"] .dock-bar {
  display: none !important;
  height: 0 !important;
  max-height: 0 !important;
  visibility: hidden !important;
  position: absolute !important;
  left: -9999px !important;
}

/* Ensure canvas panel takes full space without tab bar */
.dock-panel[data-panel-id="graph-canvas-panel"] .dock-content,
.dock-panel[data-panel-id="graph-canvas-panel"] > .dock-content {
  top: 0 !important;
  height: 100% !important;
}

/* Style for graph-canvas group panels */
[data-dock-id="canvas-tab"] {
  background: transparent;
}

/* Ensure sidebar panels have proper styling and sit above canvas/window selector + its dropdowns */
.graph-editor-dock-container .dock-panel[data-panel-id="graph-sidebar-panel"],
.graph-editor-dock-container .dock-panel[data-dockid="graph-sidebar-panel"] {
  border-left: 1px solid #d0d5d8;
  background: #f8f9fa; /* Slightly darker than pure white */
  position: relative !important;
  z-index: 100 !important; /* Above canvas & WindowSelector + its dropdowns (z-index: 50) */
}

/* Hide maximize button on graph editor sidebar panels */
.graph-editor-dock-container .dock-panel-max-btn {
  display: none !important;
}

/* Hide sidebar panel when it has size 0 (minimized state) */
.dock-panel[data-panel-id="graph-sidebar-panel"][style*="width: 0px"],
.dock-panel[data-panel-id="graph-sidebar-panel"][style*="width:0px"] {
  display: none !important;
}

/* Make resize handles small and grey */
.dock-splitter {
  background: #dee2e6 !important;
}

.dock-splitter:hover {
  background: #adb5bd !important;
}

/* Vertical splitters (in horizontal boxes - left-right split) - constrain width */
.dock-box.dock-hbox > .dock-splitter {
  width: 1px !important;
  min-width: 1px !important;
  max-width: 1px !important;
}

/* Horizontal splitters (in vertical boxes - top-bottom split) - constrain height */
.dock-box.dock-vbox > .dock-splitter {
  height: 1px !important;
  min-height: 1px !important;
  max-height: 1px !important;
}


/* Minimize button styling - taller and thinner */
.graph-minimize-button {
  background: #e9ecef !important;
  border: 1px solid #dee2e6 !important;
  border-right: none !important;
  border-radius: 4px 0 0 4px !important;
  color: #495057 !important;
  width: 12px !important; /* Significantly thinner */
  height: 180px !important; /* Three times taller (was 60px) */
  font-size: 10px !important;
  padding: 0 !important;
  cursor: pointer !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: background 0.2s ease, color 0.2s ease !important; /* Don't transition position */
}

/* Override inline z-index on minimize button */
.graph-minimize-button[style*="z-index"] {
  z-index: 10 !important; /* Below Monaco suggestions but above normal content */
}

.graph-minimize-button:hover {
  background: #d0d5d8 !important;
  color: #212529 !important;
}

/* Hide minimize button during resize to avoid lurching */
.graph-minimize-button.resizing {
  opacity: 0 !important;
  pointer-events: none !important;
}

/* Sidebar tabs - smaller font size and tighter spacing (both docked and floating) */
/* Target all tabs within the sidebar panel */
.dock-panel[data-panel-id="graph-sidebar-panel"] .dock-tab,
.dock-panel[data-dockid="graph-sidebar-panel"] .dock-tab,
/* Also target floating sidebar tabs */
.dock-fbox:has([data-node-key="what-if-tab"]) .dock-tab,
.dock-fbox:has([data-node-key="properties-tab"]) .dock-tab,
.dock-fbox:has([data-node-key="tools-tab"]) .dock-tab,
.dock-fbox:has([data-node-key="analytics-tab"]) .dock-tab {
  font-size: 10px !important;
}

/* Reduce padding in sidebar tab inner div (rc-dock default is 4px 14px) */
.dock-panel[data-panel-id="graph-sidebar-panel"] .dock-tab > div,
.dock-panel[data-dockid="graph-sidebar-panel"] .dock-tab > div,
.dock-fbox:has([data-node-key="what-if-tab"]) .dock-tab > div,
.dock-fbox:has([data-node-key="properties-tab"]) .dock-tab > div,
.dock-fbox:has([data-node-key="tools-tab"]) .dock-tab > div,
.dock-fbox:has([data-node-key="analytics-tab"]) .dock-tab > div {
  padding: 5px 8px !important; /* Tighter than default 4px 14px */
}

/* Floating panels styling */
.dock-box.dock-float {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border-radius: 8px;
  overflow: hidden;
}

/* ===== DARK MODE ===== */

/* Sidebar panel â€” target by panel-id AND by catchall for any dock-bar in the graph editor */
[data-theme="dark"] .graph-editor-dock-container .dock-bar {
  background: #252525 !important;
  border-bottom-color: #404040 !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-tab {
  color: #aaa !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-tab:hover {
  filter: brightness(1.2) !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-tab-active {
  color: #e0e0e0 !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-content {
  background: #1e1e1e !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-panel[data-panel-id="graph-sidebar-panel"],
[data-theme="dark"] .graph-editor-dock-container .dock-panel[data-dockid="graph-sidebar-panel"] {
  border-left-color: #404040 !important;
  background: #1e1e1e !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-splitter {
  background: #404040 !important;
}

[data-theme="dark"] .graph-editor-dock-container .dock-splitter:hover {
  background: #555 !important;
}

[data-theme="dark"] .graph-minimize-button {
  background: #333 !important;
  border-color: #444 !important;
  color: #999 !important;
}

[data-theme="dark"] .graph-minimize-button:hover {
  background: #444 !important;
  color: #e0e0e0 !important;
}


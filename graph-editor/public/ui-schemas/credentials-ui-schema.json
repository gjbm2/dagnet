{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Credentials UI Schema",
  "description": "UI schema for credentials.yaml form editor",
  
  "ui:order": ["version", "git", "providers"],
  
  "version": {
    "ui:widget": "hidden"
  },
  
  "git": {
    "ui:title": "üîê Git Repository Credentials",
    "ui:description": "Authentication credentials for Git repositories. Each repository appears in its own tab.",
    "ui:options": {
      "orderable": true,
      "tabField": "name",
      "addable": true,
      "removable": true
    },
    "items": {
      "ui:title": " ",
      "ui:order": [
        "name",
        "isDefault",
        "owner",
        "userName",
        "token",
        "basePath",
        "branch",
        "graphsPath",
        "paramsPath",
        "contextsPath",
        "casesPath",
        "nodesPath",
        "eventsPath"
      ],
      
      "name": {
        "ui:title": "Repository Name",
        "ui:placeholder": "e.g., nous-conversion, dagnet",
        "ui:help": "Unique identifier and repository name on GitHub (lowercase, hyphens). This is used as the key in connections.yaml.",
        "ui:autofocus": true
      },
      
      "isDefault": {
        "ui:title": "Default Repository",
        "ui:help": "Mark this as the default repository to load on startup. Only one repository should be marked as default."
      },
      
      "owner": {
        "ui:title": "GitHub Owner",
        "ui:placeholder": "e.g., gjbm2, my-org",
        "ui:help": "GitHub username or organization name that owns the repository"
      },
      
      "userName": {
        "ui:title": "Display Name",
        "ui:placeholder": "e.g., John Doe",
        "ui:help": "Display name for file authorship (used in metadata.author field when creating/updating files)"
      },
      
      "token": {
        "ui:title": "GitHub Personal Access Token",
        "ui:widget": "password",
        "ui:placeholder": "ghp_xxxxxxxxxxxxxxxxxxxx",
        "ui:help": "Personal access token for GitHub API. Create at: https://github.com/settings/tokens\n\nRequired scopes:\n‚Ä¢ repo (for private repos)\n‚Ä¢ read:org (if accessing org repos)\n\n‚ö†Ô∏è This is stored in browser localStorage - use a token with minimal required permissions."
      },
      
      "basePath": {
        "ui:title": "Base Path (Optional)",
        "ui:placeholder": "e.g., param-registry",
        "ui:help": "Optional prefix for directory structure. Use if your repository has a nested structure (e.g., param-registry/graphs/ instead of graphs/). Leave empty for standard structure."
      },
      
      "branch": {
        "ui:title": "Default Branch",
        "ui:placeholder": "main",
        "ui:help": "Default branch to use for operations (e.g., main, master, develop)"
      },
      
      "graphsPath": {
        "ui:title": "Graphs Directory",
        "ui:placeholder": "graphs",
        "ui:help": "Path to the graphs directory in the repository (relative to basePath if set)"
      },
      
      "paramsPath": {
        "ui:title": "Parameters Directory",
        "ui:placeholder": "parameters",
        "ui:help": "Path to the parameters directory in the repository"
      },
      
      "contextsPath": {
        "ui:title": "Contexts Directory",
        "ui:placeholder": "contexts",
        "ui:help": "Path to the contexts directory in the repository"
      },
      
      "casesPath": {
        "ui:title": "Cases Directory",
        "ui:placeholder": "cases",
        "ui:help": "Path to the cases directory in the repository"
      },
      
      "nodesPath": {
        "ui:title": "Nodes Directory",
        "ui:placeholder": "nodes",
        "ui:help": "Path to the nodes directory in the repository"
      },
      
      "eventsPath": {
        "ui:title": "Events Directory",
        "ui:placeholder": "events",
        "ui:help": "Path to the events directory in the repository"
      }
    }
  },
  
  "providers": {
    "ui:title": "üîå Data Source Provider Credentials",
    "ui:description": "Credentials for external data providers (Amplitude, Google Sheets, Statsig, PostgreSQL, etc.). Keys match 'credsRef' in connections.yaml.",
    "ui:help": "Each provider can have provider-specific credential fields. Common providers:\n\n‚Ä¢ amplitude: api_key, secret_key\n‚Ä¢ google-sheets: service_account_json_b64\n‚Ä¢ statsig: console_api_key\n‚Ä¢ postgres-*: host, port, database, username, password\n\n‚ö†Ô∏è These credentials are stored in browser localStorage.",
    "ui:widget": "MonacoWidget",
    "ui:options": {
      "language": "json",
      "height": "400px",
      "showLabel": true
    }
  }
}

